### 事件循环机制

同步任务：在主线线程上排队执行的任务

异步任务：存在消息队列中的任务

**V8 引擎** 通过**消息队列** 和 **事件循环** 系统让异步任务执行且不用排队等待执行完毕。

消息队列存放除主线程任务外将要执行的任务

消息队列和异步场景的交互：

1、点击触发(onClick)相应事件时，对应的回电函数加入消息队列

2、发出ajax请求，返回响应时将对应的回调函数加入消息队列

3、定时器事件到达时，将回调函数加入消息队列

### 异步任务：宏任务和微任务

1、主线程执行完同步任务后，调用栈为空。

2、检测消息队列的微队列是否为空，若不为空，按顺序依次执行完微队列里的任务。调用栈为空，页面会重新渲染

3、微队列执行完，取宏队列的一个宏任务执行。执行完毕，再次检测微队列，若有微任务，依次按顺序全部执行完后。重新渲染页面。

4、重复3操作

