# 属性标志和属性描述符

对象可以存储属性。但不仅仅如此每个对象的属性除了key-value，还包括了另外的特殊特性。我们把他们称之为*数据描述符*, *存取描述符*

*数据描述符*是描述一个的属性，该属性值是否可写，是否可迭代，是否可更改。

*存取描述符*是由 getter 函数和 setter 函数所描述的属性。

## 数据描述符

- **`writable`** — 该属性值是否可修改
- **`enumerable`** — 该属性值是否在循环中会被列出来
- **`configurable`** — 该属性值是否可删除

```js
let user = {
  name: "John"
};

// 我们通过Object.getOwnPropertyDescriptor把user的'name'属性的数据描述取出来
let descriptor = Object.getOwnPropertyDescriptor(user, 'name');

console.log( JSON.stringify(descriptor, null, 2 ) );
/* 属性描述符：
{
  "value": "John", // name属性对于的值
  "writable": true, // 代表name属性是可修改的
  "enumerable": true, // 代表name属性在循环中该key，是可被遍历的
  "configurable": true // 代表name属性是可删除的
}
*/
```

我们可以通过`Object.defineProperty()`显现的定义属性的描述情况

**writable** : 是否可修改

```js
let user = {
  name: "John"
};

Object.defineProperty(user, "name", {
  writable: false // 显现的定义对象user中的'name'属性是不可被修改的
});

user.name = 'hello' // 不会报错，但会修改会自动失效
console.log(user.name) // John
```

**enumerable** : 是否在循环中会被列出来

```js
let user = {
  name: 'john',
  age: 13,
};
Object.defineProperty(user, 'age', {
  enumerable: false,
});
for (let key in user) {
  // name
  console.log(key);
}
// 只会遍历到name，因为age属性被设置是不可遍历的

```

**configurable**: 不可配置的属性不能被删除。

```js
let user = {
  name: 'john',
  age: 13,
};
Object.defineProperty(user, 'age', {
  configurable: false,
});
delete user.age; // 不会报错，自动失效
console.log(user); // { name: 'john', age: 13 }
// age 属性是不可以被删除的

delete user.name;
console.log(user); // { age: 13 }
// name属性是可以被删除的

```



## 存取描述符

它们本质上是用于获取和设置值的函数，但从外部代码来看就像常规属性。

```js
let obj = {
  get propName() {
    // 当读取 obj.propName 时，getter 起作用
  },

  set propName(value) {
    // 当执行 obj.propName = value 操作时，setter 起作用
  }
};
// 当读取 obj.propName 时，getter 起作用，当 obj.propName 被赋值时，setter 起作用。
```

