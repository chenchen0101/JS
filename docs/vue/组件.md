# 组件

[toc]

## 如何注册子组件

```vue
<template>
  <div></div>
</template>
<!--在父组件中注册子组件-->
<script>
import HelloVue from "./components/HelloVue.vue";
export default {
  name: "App",
  data() {
    return {};
  },
  methods: {},
  components: {
    HelloVue,
  },
};
</script>

<style>
</style>

```



## 如何通过prop向子组件传递数据

父组件通过props给子组件传值是以一种标签绑定属性(键值对形式)的方式传递。

```vue
<!--子组件-->
<template>
  <div>
    <h1 :class="{ red: active }">{{ message }} - {{ id123 }}</h1>
  </div>
</template>
<script>
export default {
  data() {
    return {
      active: true,
    };
  },
  methods: {},
  props: ["message", "id123"],
};
</script>
<style>
.red {
  color: red;
}
</style>

<!--父组件给子组件传值-->
<template>
<!--     属性名="xxx"   直接传值-->
<!--     :属性名="表达式"     动态传值-->
  <HelloVue  message="123"  id123="msg"></HelloVue>
  <HelloVue :message="person" :id123="msg"></HelloVue>
</template>
<script>
import HelloVue from "./components/HelloVue.vue";
export default {
  name: "App",
  data() {
    return {
      person: {
        name: "chen",
        age: 10,
        sex: "女",
      },
      msg: "hello world123",
      messages: ["hello js", "hello vue", "hello python"],
    };
  },
  components: {
    HelloVue,
  },
};
</script>

<style>
</style>

```

## 子组件如何向父组件传值

子组件通过<span style="color: red; font-weight:900;">$emit(‘事件名’，‘参数’，‘参数’，‘...都是参数’)</span>方法抛出事件名并传递参数

父组件监听此事件

```vue
<!--子组件抛出事件-->
<template>
  <div>
    <button v-on:click="$emit('nihao', 123)">{{ message }}</button>
  </div>
</template>
<script>
export default {
  data() {
    return {};
  },
  props: ["message"],
  methods: {},
};
</script>


<!--父组件监听此事件(调用回调函数)-->
<template>
  <div>
    <HelloVue v-on:nihao="sayHi" :message="msg"></HelloVue>
  </div>
</template>
<script>
import HelloVue from "./components/HelloVue.vue";
export default {
  name: "App",
  data() {
    return {
      msg: "hello world",
    };
  },
  methods: {
    sayHi(num) {
      console.log(`hello${num}`);
    },
  },
  components: {
    HelloVue,
  },
};
</script>

```

## 插槽

```vue

<!--父组件向子组件传内容-->
<template>
  <div>
    <HelloVue> hello button </HelloVue>
  </div>
</template>

<!--子组件通过插槽接收内容-->
<template>
  <div>
    <button>
      <slot></slot>
    </button>
  </div>
</template>
```

